<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemberCard System Flowchart - Mermaid Diagrams</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            background: #f8f9fa;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav-link {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .section h3 {
            color: #34495e;
            margin: 25px 0 15px 0;
            font-size: 1.4rem;
        }

        .mermaid {
            text-align: center;
            margin: 20px 0;
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border-left: 4px solid #667eea;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .description {
            background: #e8f4fd;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .description ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .description li {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 20px 10px;
            }
            
            .section {
                padding: 20px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚õΩ MemberCard System Flowchart</h1>
        <p>Complete system architecture and user flow diagrams</p>
        <div style="margin: 20px 0; display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
            <a href="index.html" class="nav-link">‚Üê Back to Main Page</a>
            <a href="mobile_flowchart.md" class="nav-link">üì± Mobile Flowchart</a>
            <a href="web_flowchart.md" class="nav-link">üíª Web Flowchart</a>
            <a href="flowchart_thai.md" class="nav-link">üáπüá≠ Thai Flowchart</a>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <div class="description">
                <h3>üìã System Overview</h3>
                <p>This flowchart represents the complete structure of the MemberCard mobile application with proper flow direction:</p>
                <ul>
                    <li><strong>Modules:</strong> Top-level organization of system components</li>
                    <li><strong>Screens:</strong> Sequential flow downward (screen1 ‚Üí screen2 ‚Üí screen3)</li>
                    <li><strong>Use Cases:</strong> Specific actions or conditions that users perform in each screen - what the user actually does, including decision points for different user roles (Member vs Employee)</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>üèóÔ∏è Complete System Flow</h2>
            <div class="mermaid">
graph TD
    START([Member Card]) --> COMMON[Common Module]
    START --> AUTH[Authentication Module]
    START --> QR[QR Code Module]
    START --> HIST[History/Transaction Module]
    START --> PROF[Profile Module]
            </div>
        </div>

        <div class="section">
            <h2>üè† 1. Common Module</h2>
            <div class="mermaid">
graph TD
    COMMON[Common Module] --> STEP1[Screen 1: Home Page]
    
    STEP1 -->CUST_HOME[Member Home Dashboard<br/>COMMON_HOME_01]
    STEP1 -->EMP_HOME[Employee Home Dashboard<br/>COMMON_HOME_02]
            </div>
        </div>

        <div class="section">
            <h2>üîê 2. Authentication Module</h2>
            <div class="mermaid">
graph TD
    AUTH[Authentication Module] --> STEP1[Screen 1: Login]
    
    STEP1 -->UC1[Use Case 1:<br/>User Found and Registered?<br/>AUTH_LOGIN_01]
    STEP1 -->UC2[Use Case 2:<br/>User Found but Not Registered?<br/>AUTH_LOGIN_02]
    STEP1 -->UC3[Use Case 3:<br/>User Not Found - Show Error<br/>AUTH_LOGIN_03]

    UC1 -->STEP2[Screen 2: Verify OTP]
    UC2 -->STEP2
    UC3 -->END[End]
    
    STEP2 -->UC4[Use Case 1:<br/>Submit Success<br/>AUTH_VERIFY_01]
    STEP2 -->UC5[Use Case 2:<br/>OTP Expired Alert Message<br/>AUTH_VERIFY_02]
    STEP2 -->UC6[Use Case 3:<br/>Send OTP Again Alert Message Confirm<br/>AUTH_VERIFY_04]
    STEP2 -->UC7[Use Case 4:<br/>Submit Fail Alert Message<br/>AUTH_VERIFY_03]

    UC4 -->SUCCESS[Redirect to Home Page]
    UC5 -->STAY[Stay in Verify OTP Page]
    UC6 -->STAY
    UC7 -->STAY
            </div>
        </div>

        <div class="section">
            <h2>üì± 3. QR Code Module</h2>
            <div class="mermaid">
graph TD
    QR[QR Code Module] --> STEP1[Screen 1:<br/>Member: generate QR Code<br/>QR_QRCODE_01]
    
    STEP1 --> STEP2[Screen 2:<br/>Employee: Scan QR Code with Camera<br/>QR_SCAN_01]
    STEP2 --> STEP3[Screen 3:<br/>Employee: Scaned and Fill Data]
    STEP3 -->FILL_STANDARD[Use Case 1:<br/>Employee: Fill Fuel Details and Send OTP<br/>QR_FILL_01]
    STEP3 -->CUSTOM_PRICE[Use Case 2:<br/>Employee: Custom Price/Unit Manual Input<br/>QR_FILL_02]
    FILL_STANDARD -->CONNECTION_1[Employee: Fill All Data Required]
    CUSTOM_PRICE -->CONNECTION_1
    CONNECTION_1 -->WAITING[Employee: Send OTP to Member <br/>and Waiting for Member Verification<br/>QR_FILL_03]
    CONNECTION_1 -->CONFIRM_BACK[Employee: Cancel Transaction<br/>QR_FILL_04]
    
    WAITING --> STEP4[Screen 4:<br/>Member: Verification<br/>QR_VERIFY_01]
    CONFIRM_BACK --> END_TRANSACTION[END]

    STEP4 -->VERIFY_DATA[Use Case 1:<br/>Member: Verify Details]
    STEP4 -->CANCEL_VERIFY[Use Case 2:<br/>Member: Cancel Verify Purchase<br/>QR_VERIFY_02]
    STEP4 -->OTP_EXPIRED[Use Case 3:<br/>OTP Expired - Member: Contact Employee<br/>QR_VERIFY_03]
    
    CANCEL_VERIFY -->END_VERIFY[END]

    VERIFY_DATA --> UC6{Member: Verify?}
    UC6 -->|Yes| STEP5[Screen 5:<br/>Success and Details]
    UC6 -->|No| STAY[Stay on Screen 4<br/>Member: Verification]

    OTP_EXPIRED -->STAY2[Stay on Screen 4<br/>Member: Verification]
    
    STEP5 -->CUST_SUCCESS[Member: Transaction Success/Receipt<br/>QR_SUCCESS_01]
    STEP5 -->EMP_SUCCESS[Employee: Transaction Success/Receipt<br/>QR_SUCCESS_02]
    
    CUST_SUCCESS --> END_QR[Transaction Complete]
    EMP_SUCCESS --> END_QR
            </div>
        </div>

        <div class="section">
            <h2>üìä 4. History/Transaction Module</h2>
            <div class="mermaid">
graph TD
    HIST[History/Transaction Module] --> STEP1[Screen 1: Transaction History]
    
    STEP1 -->CUST_HIST[Member: Transaction History Screen<br/>HIST_HISTORY_01]
    STEP1 -->EMP_HIST[Employee: Transaction History Screen<br/>HIST_HISTORY_02]
            </div>
        </div>

        <div class="section">
            <h2>üë§ 5. Profile Module</h2>
            <div class="mermaid">
graph TD
    PROF[Profile Module] --> STEP1[Screen 1: Profile Page]
    
    STEP1 -->CUST_PROF[Member: Profile Screen<br/>PROF_PROFILE_01]
    STEP1 -->EMP_PROF[Employee: Profile Screen<br/>PROF_PROFILE_02]
            </div>
        </div>

        <div class="section">
            <h2>üìà Summary Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Total Modules</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10</div>
                    <div class="stat-label">Total Screens</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">25</div>
                    <div class="stat-label">Total Use Cases</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">13</div>
                    <div class="stat-label">Member Use Cases</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Employee Use Cases</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Navigation Items</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üó∫Ô∏è Screen Reference Map</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Module</th>
                            <th>Screen</th>
                            <th>Use Case</th>
                            <th>Screen ID</th>
                            <th>User Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Common</td><td>1</td><td>1</td><td>COMMON_HOME_01</td><td>Member</td></tr>
                        <tr><td>Common</td><td>1</td><td>2</td><td>COMMON_HOME_02</td><td>Employee</td></tr>
                        <tr><td>Auth</td><td>1</td><td>1</td><td>AUTH_LOGIN_01</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>1</td><td>2</td><td>AUTH_LOGIN_02</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>1</td><td>3</td><td>AUTH_LOGIN_03</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>2</td><td>1</td><td>AUTH_VERIFY_01</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>2</td><td>2</td><td>AUTH_VERIFY_02</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>2</td><td>3</td><td>AUTH_VERIFY_03</td><td>Member</td></tr>
                        <tr><td>Auth</td><td>2</td><td>4</td><td>AUTH_VERIFY_04</td><td>Member</td></tr>
                        <tr><td>QR</td><td>1</td><td>1</td><td>QR_QRCODE_01</td><td>Member</td></tr>
                        <tr><td>QR</td><td>2</td><td>1</td><td>QR_SCAN_01</td><td>Employee</td></tr>
                        <tr><td>QR</td><td>3</td><td>1</td><td>QR_FILL_01</td><td>Employee</td></tr>
                        <tr><td>QR</td><td>3</td><td>2</td><td>QR_FILL_02</td><td>Employee</td></tr>
                        <tr><td>QR</td><td>3</td><td>3</td><td>QR_FILL_03</td><td>Employee</td></tr>
                        <tr><td>QR</td><td>3</td><td>4</td><td>QR_FILL_04</td><td>Employee</td></tr>
                        <tr><td>QR</td><td>4</td><td>1</td><td>QR_VERIFY_01</td><td>Member</td></tr>
                        <tr><td>QR</td><td>4</td><td>2</td><td>QR_VERIFY_02</td><td>Member</td></tr>
                        <tr><td>QR</td><td>4</td><td>3</td><td>QR_VERIFY_03</td><td>Member</td></tr>
                        <tr><td>QR</td><td>5</td><td>1</td><td>QR_SUCCESS_01</td><td>Member</td></tr>
                        <tr><td>QR</td><td>5</td><td>2</td><td>QR_SUCCESS_02</td><td>Employee</td></tr>
                        <tr><td>History</td><td>1</td><td>1</td><td>HIST_HISTORY_01</td><td>Member</td></tr>
                        <tr><td>History</td><td>1</td><td>2</td><td>HIST_HISTORY_02</td><td>Employee</td></tr>
                        <tr><td>Profile</td><td>1</td><td>1</td><td>PROF_PROFILE_01</td><td>Member</td></tr>
                        <tr><td>Profile</td><td>1</td><td>2</td><td>PROF_PROFILE_02</td><td>Employee</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#5a67d8',
                lineColor: '#667eea',
                sectionBkgColor: '#f8f9fa',
                altSectionBkgColor: '#ffffff',
                gridColor: '#e9ecef',
                secondaryColor: '#764ba2',
                tertiaryColor: '#f8f9fa'
            },
            flowchart: {
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>